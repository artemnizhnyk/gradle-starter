import java.time.LocalDate

/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.4/samples
 */

ext {
    javaVersion = 16
    currentDate = LocalDate.now()
}

println ext.javaVersion
println project.ext.javaVersion
println project.javaVersion
println "------------All properties"
println project.properties
println "system-----"
println System.getProperty("sys.examle")
//println "configuration phase"
//println "gradle id: ${gradle.hashCode()}"
//println "root: ${rootProject.hashCode()}, ${project.hashCode()}, ${gradle.rootProject.hashCode()}"

//task("hello")

//3
//task hello {
//    println "configuration phase. Task hello"
//    hello.description = "Hello task"
//    hello.group = "artemnizhnyk"
//}


//Project -> [Task1, Task2...]
//Task -> [Action1, Action2...] -> action.execution (execution phase)


task first {
    doLast {
        println "Task1"
    }
}

task second {
    doLast {
        println "Task2"
    }
}

task third {
    doLast {
        println "Task3"
    }
}

task fourth(group: "artemnizhnyk") {
    doLast {
        println "Task4"
    }
}

//fourth.dependsOn second
//second.dependsOn first
//second.finalizedBy third

fourth.dependsOn first
fourth.dependsOn second
fourth.dependsOn third

first.mustRunAfter second



gradle.taskGraph.whenReady {TaskExecutionGraph graph ->
    println "---Graph"
    graph.allTasks.each {
        println "${it.name}"
    }
}

gradle.taskGraph.beforeTask {task->
    if(task.group == 'artemnizhnyk'){
        println "beforeTask callBack $task"
    }
}
//gradle.taskGraph.afterTask {
//    if(task.name == 'first')
//}


//1
//2     4
//3



defaultTasks "fourth"




//tasks.findByName("hello")
//1
//hello.description = "Hello task"
//hello.group = "artemnizhnyk"

//2
//hello.configure Closure
//hello {
//    println "configuration phase. Task hello"
//    hello.description = "Hello task"
//    hello.group = "artemnizhnyk"
//}